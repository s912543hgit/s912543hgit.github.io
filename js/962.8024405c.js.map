{"version":3,"file":"js/962.8024405c.js","mappings":"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","sources":["webpack://project/./node_modules/mitt/dist/mitt.mjs","webpack://project/./src/libs/emitter.js","webpack://project/./src/views/CartView.vue","webpack://project/./src/views/CartView.vue?73a2"],"sourcesContent":["export default function(n){return{all:n=n||new Map,on:function(t,e){var i=n.get(t);i?i.push(e):n.set(t,[e])},off:function(t,e){var i=n.get(t);i&&(e?i.splice(i.indexOf(e)>>>0,1):n.set(t,[]))},emit:function(t,e){var i=n.get(t);i&&i.slice().map(function(n){n(e)}),(i=n.get(\"*\"))&&i.slice().map(function(n){n(t,e)})}}}\n//# sourceMappingURL=mitt.mjs.map\n","import mitt from 'mitt'\n\nconst emitter = mitt()\n\nexport default emitter\n","<template>\n  <h2>購物車</h2>\n  <table class=\"table align-middle\">\n    <thead>\n      <tr>\n        <th>圖片</th>\n        <th>商品名稱</th>\n        <th>價格</th>\n        <th></th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr v-for=\"product in products\" :key=\"product.id\">\n        <td style=\"width: 200px\">\n          <div style=\"height: 100px; background-size: cover; background-position: center\"\n          :style=\"{ backgroundImage:`url(${product.imageUrl})`}\"></div>\n        </td>\n        <td>\n          {{ product.title }}\n        </td>\n        <td>\n          <div class=\"h5\" v-if=\"product.price === product.origin_price\">{{ product.price }} 元</div>\n          <div v-else>\n            <del class=\"h6\">原價 {{ product.origin_price }} 元</del>\n            <div class=\"h5\">現在只要 {{ product.price }} 元</div>\n          </div>\n        </td>\n        <td>\n          <div class=\"btn-group btn-group-sm\">\n            <button type=\"button\" class=\"btn btn-outline-secondary\"  @click=\"openProductModal(product.id)\"\n>\n              <!-- <i class=\"fas fa-spinner fa-pulse\" ></i> -->\n              查看更多\n            </button>\n            <button type=\"button\" class=\"btn btn-outline-danger\" @click=\"addToCart(product.id)\" :disabled =\"isLoadingItem === product.id\">\n              <i class=\"fas fa-spinner fa-pulse\" v-show=\"isLoadingItem === product.id\"></i>\n              加到購物車\n            </button>\n          </div>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</template>\n\n<script>\nimport emitter from '@/libs/emitter'\nexport default {\n  data () {\n    return {\n      cartData: {},\n      products: [],\n      isLoadingItem: ''\n    }\n  },\n  methods: {\n    getProducts () {\n      this.$http.get('https://vue3-course-api.hexschool.io/api/shio-vue/products/all')\n        .then((res) => {\n          this.products = res.data.products\n        })\n    },\n    addToCart (id, qty = 1) {\n      const data = {\n        product_id: id,\n        qty\n      }\n      this.isLoadingItem = id\n      this.$http.post('https://vue3-course-api.hexschool.io/api/shio-vue/cart', { data })\n        .then((res) => {\n          console.log(res)\n          this.isLoadingItem = ''\n          // 觸發navbar上的監聽行為\n          emitter.emit('get-cart')\n        })\n    }\n  },\n  mounted () {\n    this.getProducts()\n  }\n}\n</script>\n","import { render } from \"./CartView.vue?vue&type=template&id=2ffcb74b\"\nimport script from \"./CartView.vue?vue&type=script&lang=js\"\nexport * from \"./CartView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/wangangel/s912543hgit/vue-project/project/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["n","all","Map","on","t","e","i","get","push","set","off","splice","indexOf","emit","slice","map","emitter","mitt","_createElementVNode","class","style","_hoisted_1","_hoisted_3","_createElementBlock","_Fragment","_renderList","$data","product","key","id","backgroundImage","imageUrl","_toDisplayString","title","price","origin_price","_hoisted_6","type","onClick","_ctx","_hoisted_10","$options","disabled","data","cartData","products","isLoadingItem","methods","getProducts","this","$http","then","res","addToCart","qty","product_id","post","console","log","mounted","__exports__","render"],"sourceRoot":""}